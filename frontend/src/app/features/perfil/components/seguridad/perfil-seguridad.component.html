<form [formGroup]="passwordForm" (ngSubmit)="cambiarPassword()" novalidate>
  <div class="mb-3">
    <label class="form-label">Contraseña actual</label>
    <input
      type="password"
      class="form-control"
      formControlName="currentPassword"
      [ngClass]="{
        'is-invalid':
          passwordForm.get('currentPassword')?.invalid &&
          passwordForm.get('currentPassword')?.touched
      }"
    />
    <div class="invalid-feedback">Este campo es obligatorio</div>
  </div>

  <div class="mb-3">
    <label class="form-label">Nueva contraseña</label>
    <input
      type="password"
      class="form-control"
      formControlName="newPassword"
      [ngClass]="{
        'is-invalid':
          passwordForm.get('newPassword')?.invalid &&
          passwordForm.get('newPassword')?.touched
      }"
    />
    <div class="invalid-feedback">Mínimo 6 caracteres</div>
  </div>

  <div class="mb-4">
    <label class="form-label">Confirmar nueva contraseña</label>
    <input
      type="password"
      class="form-control"
      formControlName="confirmPassword"
      [ngClass]="{
        'is-invalid':
          (passwordForm.get('confirmPassword')?.touched &&
            passwordForm.get('confirmPassword')?.invalid) ||
          (passwordForm.errors?.['noCoinciden'] &&
            passwordForm.get('confirmPassword')?.touched)
      }"
    />
    <div class="invalid-feedback">Las contraseñas deben coincidir</div>
  </div>

  <div class="d-flex justify-content-end gap-2">
    <button
      type="button"
      class="btn btn-outline-secondary"
      (click)="cancelar()"
    >
      Cancelar
    </button>
    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="passwordForm.invalid"
    >
      Actualizar Contraseña
    </button>
  </div>
</form>
